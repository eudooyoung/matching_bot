<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>MatchingBot 기업 홈</title>
    <link rel="stylesheet" th:href="@{/css/company-job.css}">
    <link rel="stylesheet" th:href="@{/css/layout.css}">
</head>
<body>

<div th:replace="~{fragments/header :: header(role=${role})}"></div>

<div class="container">
    <h2>기업 홈</h2>

    <div class="user-info-box">
        <div class="user-box">
        <span>
          <span th:text="${company.name}"></span> 님<button class="star-button" onclick="toggleStar(this)">☆</button>
        </span>
        </div>
        <div class="mypage-box">
            <button class="nav-button" onclick="goToMyPage()">마이페이지</button>
        </div>
    </div>

    <div class="report-box">
        <p>평가 보고서 소개</p>
    </div>

    <table class="job-table">
        <thead>
        <tr>
            <th>번호</th>
            <th>채용 공고 제목</th>
            <th>채용 기간</th>
            <th>상세보기</th>
            <th>즐겨찾기</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="job, iterStat : ${jobPage.content}">
            <td th:text="${iterStat.index + 1}">1</td>
            <td th:text="${job.title}">제목</td>
            <td th:text="${#temporals.format(job.startDate, 'yyyy-MM-dd')} + ' ~ ' + ${#temporals.format(job.endDate, 'yyyy-MM-dd')}">기간</td>
            <td th:onclick="'location.href=\'/job/' + ${job.id} + '\''">상세보기</td>
            <td><button class="star-button" onclick="toggleStar(this)">☆</button></td>
        </tr>
        </tbody>
    </table>
</div>

<script>
    function toggleStar(button) {
        if (button.textContent === '☆') {
            button.textContent = '★';
            button.classList.add('filled');
        } else {
            button.textContent = '☆';
            button.classList.remove('filled');
        }
    }

    function goToMyPage() {
        window.location.href = '/company/mypage';
    }
</script>

<div th:replace="~{fragments/footer :: footer}"></div>

<script th:src="@{/js/dropdown.js}"></script>
<script th:src="@{/js/logout.js}"></script>

</body>
</html>