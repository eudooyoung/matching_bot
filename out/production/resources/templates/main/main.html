<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>MatchingBot</title>
  <link rel="stylesheet" th:href="@{/css/common.css}" />
  <link rel="stylesheet" th:href="@{/css/user_main.css}" />

  <!-- í…ŒìŠ¤íŠ¸ìš© ìŠ¤íƒ€ì¼ -->
  <style>
    #openMapButton {
      background-color: yellow; /* ì‹œê°ì  í™•ì¸ */
      position: relative;
      z-index: 9999;
      pointer-events: auto; /* í´ë¦­ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì • */
      border: 2px solid red;
    }
  </style>
</head>
<body>

<!-- Header Fragment -->
<div th:insert="fragments/header :: header"></div>

<main class="main-content">
  <section class="search-bar">
    <select>
      <option>ìœ ì‚¬ë„ í•„í„°</option>
    </select>
    <input type="text" placeholder="ì±„ìš© ê³µê³  ê²€ìƒ‰" />
    <button>ğŸ”</button>
  </section>

  <section class="filter-buttons">
    <button type="button" id="openMapButton">
      ğŸ“ ë‚´ ì£¼ë³€ ì±„ìš© ê³µê³  ë³´ê¸°
    </button>
    <button>ğŸ“… ì±„ìš© ê³µê³  ë‹¬ë ¥ ë³´ê¸°</button>
  </section>

  <section class="job-section">
    <h2>ì‹¤ì‹œê°„ ì±„ìš©ì •ë³´</h2>
    <div class="job-list">
      <div class="job-card"></div>
      <div class="job-card"></div>
      <div class="job-card"></div>
    </div>
  </section>
</main>

<!-- Footer Fragment -->
<div th:insert="fragments/footer :: footer"></div>

<!-- íŒì—… ì˜¤í”ˆ ìŠ¤í¬ë¦½íŠ¸ -->
<script>
  window.onload = function () {
    const mapBtn = document.getElementById("openMapButton");
    console.log("ë²„íŠ¼ ì°¾ê¸° ê²°ê³¼:", mapBtn);

    if (mapBtn) {
      mapBtn.addEventListener("click", function () {
        console.log("âœ… íŒì—… ì—´ê¸° ì‹œë„");
        alert("íŒì—… ì—´ê¸° ì‹œë„ë¨!");
        window.open('/map_popup', 'mapPopup', 'width=800,height=600');
      });
    } else {
      console.log("âŒ ë²„íŠ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    }
  };
</script>

</body>
</html>
